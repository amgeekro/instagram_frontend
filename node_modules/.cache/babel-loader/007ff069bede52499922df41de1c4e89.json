{"ast":null,"code":"import _slicedToArray from \"/Users/amirhosein/Documents/project/fast_api/instagram_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/amirhosein/Documents/project/fast_api/instagram_frontend/src/App.js\";\nimport './App.css';\nimport React, { useState, useEffect } from 'react';\nimport Post from './Post';\nvar BASE_URL = \"http://localhost:8000/\";\nfunction App() {\n  var _this = this;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    posts = _useState2[0],\n    setPosts = _useState2[1];\n  useEffect(function () {\n    fetch(BASE_URL + \"post/all\").then(function (response) {\n      var json = response.json();\n      console.log(json);\n      if (response.ok) {\n        return json;\n      }\n      throw response;\n    }).then(function (data) {\n      var result = data.sort(function (a, b) {\n        var t_a = a.timestamp.split(/[-T:]/);\n        var t_b = b.timestamp.split(/[-T:]/);\n        var d_a = new Date(Date.UTC(t_a[0], t_a[1] - 1, t_a[2], t_a[3], t_a[4], t_a[5]));\n        var d_b = new Date(Date.UTC(t_b[0], t_b[1] - 1, t_b[2], t_b[3], t_b[4], t_b[5]));\n        return d_b - d_a;\n      });\n      return result;\n    }).then(function (data) {\n      setPosts(data);\n    }).catch(function (error) {\n      console.log(error);\n      alert(error);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app_header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"app_headerImage\",\n    alt: \"instagram\",\n    src: \"https://image.similarpng.com/very-thumbnail/2020/04/Instagram-logo-modern-paint-splash-social-media-png.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app_posts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, posts.map(function (post) {\n    return /*#__PURE__*/React.createElement(Post, {\n      post: post,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }\n    });\n  })));\n}\nexport default App;","map":{"version":3,"names":["React","useState","useEffect","Post","BASE_URL","App","posts","setPosts","fetch","then","response","json","console","log","ok","data","result","sort","a","b","t_a","timestamp","split","t_b","d_a","Date","UTC","d_b","catch","error","alert","map","post"],"sources":["/Users/amirhosein/Documents/project/fast_api/instagram_frontend/src/App.js"],"sourcesContent":["import './App.css';\nimport React, {useState, useEffect } from 'react';\nimport Post from './Post';\n\nconst BASE_URL = \"http://localhost:8000/\";\n\nfunction App() {\n\n  const [posts, setPosts] = useState([]);\n\n  useEffect(() => {\n    fetch(BASE_URL + \"post/all\")\n    .then(response => {\n                        const json = response.json()\n                        console.log(json)\n                        if (response.ok) {\n                          return json\n                        }\n                        throw response\n                      }).then(data => {\n                        const result = data.sort((a, b) => {\n                          const t_a = a.timestamp.split(/[-T:]/);\n                          const t_b = b.timestamp.split(/[-T:]/);\n                          const d_a = new Date(Date.UTC(t_a[0], t_a[1]-1, t_a[2], t_a[3], t_a[4], t_a[5]));\n                          const d_b = new Date(Date.UTC(t_b[0], t_b[1]-1, t_b[2], t_b[3], t_b[4], t_b[5]));\n                          return d_b - d_a;\n                        })\n                        return result\n                      }).then(data => {\n                        setPosts(data)\n                      }).catch(error => {\n                        console.log(error)\n                        alert(error)\n                      })\n  }, [])\n\n  return (\n    <div className='app'>\n      <div className='app_header'>\n        <img className='app_headerImage' alt=\"instagram\" \n        src='https://image.similarpng.com/very-thumbnail/2020/04/Instagram-logo-modern-paint-splash-social-media-png.png'/>\n      </div>\n      <div className='app_posts'>\n        {\n          posts.map(post => (\n            <Post post={post} />\n          ))\n        }\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";;AAAA,OAAO,WAAW;AAClB,OAAOA,KAAK,IAAGC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AACjD,OAAOC,IAAI,MAAM,QAAQ;AAEzB,IAAMC,QAAQ,GAAG,wBAAwB;AAEzC,SAASC,GAAG,GAAG;EAAA;EAAA,gBAEaJ,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA/BK,KAAK;IAAEC,QAAQ;EAEtBL,SAAS,CAAC,YAAM;IACdM,KAAK,CAACJ,QAAQ,GAAG,UAAU,CAAC,CAC3BK,IAAI,CAAC,UAAAC,QAAQ,EAAI;MACE,IAAMC,IAAI,GAAGD,QAAQ,CAACC,IAAI,EAAE;MAC5BC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;MACjB,IAAID,QAAQ,CAACI,EAAE,EAAE;QACf,OAAOH,IAAI;MACb;MACA,MAAMD,QAAQ;IAChB,CAAC,CAAC,CAACD,IAAI,CAAC,UAAAM,IAAI,EAAI;MACd,IAAMC,MAAM,GAAGD,IAAI,CAACE,IAAI,CAAC,UAACC,CAAC,EAAEC,CAAC,EAAK;QACjC,IAAMC,GAAG,GAAGF,CAAC,CAACG,SAAS,CAACC,KAAK,CAAC,OAAO,CAAC;QACtC,IAAMC,GAAG,GAAGJ,CAAC,CAACE,SAAS,CAACC,KAAK,CAAC,OAAO,CAAC;QACtC,IAAME,GAAG,GAAG,IAAIC,IAAI,CAACA,IAAI,CAACC,GAAG,CAACN,GAAG,CAAC,CAAC,CAAC,EAAEA,GAAG,CAAC,CAAC,CAAC,GAAC,CAAC,EAAEA,GAAG,CAAC,CAAC,CAAC,EAAEA,GAAG,CAAC,CAAC,CAAC,EAAEA,GAAG,CAAC,CAAC,CAAC,EAAEA,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QAChF,IAAMO,GAAG,GAAG,IAAIF,IAAI,CAACA,IAAI,CAACC,GAAG,CAACH,GAAG,CAAC,CAAC,CAAC,EAAEA,GAAG,CAAC,CAAC,CAAC,GAAC,CAAC,EAAEA,GAAG,CAAC,CAAC,CAAC,EAAEA,GAAG,CAAC,CAAC,CAAC,EAAEA,GAAG,CAAC,CAAC,CAAC,EAAEA,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QAChF,OAAOI,GAAG,GAAGH,GAAG;MAClB,CAAC,CAAC;MACF,OAAOR,MAAM;IACf,CAAC,CAAC,CAACP,IAAI,CAAC,UAAAM,IAAI,EAAI;MACdR,QAAQ,CAACQ,IAAI,CAAC;IAChB,CAAC,CAAC,CAACa,KAAK,CAAC,UAAAC,KAAK,EAAI;MAChBjB,OAAO,CAACC,GAAG,CAACgB,KAAK,CAAC;MAClBC,KAAK,CAACD,KAAK,CAAC;IACd,CAAC,CAAC;EACtB,CAAC,EAAE,EAAE,CAAC;EAEN,oBACE;IAAK,SAAS,EAAC,KAAK;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAClB;IAAK,SAAS,EAAC,YAAY;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACzB;IAAK,SAAS,EAAC,iBAAiB;IAAC,GAAG,EAAC,WAAW;IAChD,GAAG,EAAC,6GAA6G;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAE,CAC/G,eACN;IAAK,SAAS,EAAC,WAAW;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAEtBvB,KAAK,CAACyB,GAAG,CAAC,UAAAC,IAAI;IAAA,oBACZ,oBAAC,IAAI;MAAC,IAAI,EAAEA,IAAK;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAAG;EAAA,CACrB,CAAC,CAEA,CACF;AAEV;AAEA,eAAe3B,GAAG"},"metadata":{},"sourceType":"module"}