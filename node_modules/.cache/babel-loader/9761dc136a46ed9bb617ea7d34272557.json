{"ast":null,"code":"import _slicedToArray from \"/Users/amirhosein/Documents/project/fast_api/instagram_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/amirhosein/Documents/project/fast_api/instagram_frontend/src/Post.js\";\nimport React, { useState, useEffect } from \"react\";\nimport './Post.css';\nimport { Avatar, Button } from \"@material-ui/core\";\nvar BASE_URL = \"http://localhost:8000/\";\nfunction Post(_ref) {\n  var _this = this;\n  var post = _ref.post;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    imageUrl = _useState2[0],\n    setImageUrl = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    comments = _useState4[0],\n    setComments = _useState4[1];\n  useEffect(function () {\n    if (post.image_url_type === 'relative') {\n      setImageUrl(BASE_URL + post.image_url);\n    } else {\n      setImageUrl(post.image_url);\n    }\n  }, []);\n  useEffect(function () {\n    setComments(post.comments);\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post_header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    alt: \"user image\",\n    src: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post_headerInfo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 21\n    }\n  }, post.user.username), /*#__PURE__*/React.createElement(Button, {\n    className: \"post_delete\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 21\n    }\n  }, \"Delete\"))), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"post_image\",\n    src: imageUrl,\n    alt: \"post_image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"post_caption\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }\n  }, post.caption), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post_comments\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, comments.map(function (comment) {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 29\n      }\n    }, comment.username, \":\"), \" \", comment.text);\n  })));\n}\nexport default Post;","map":{"version":3,"names":["React","useState","useEffect","Avatar","Button","BASE_URL","Post","post","imageUrl","setImageUrl","comments","setComments","image_url_type","image_url","user","username","caption","map","comment","text"],"sources":["/Users/amirhosein/Documents/project/fast_api/instagram_frontend/src/Post.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport './Post.css';\nimport { Avatar, Button } from \"@material-ui/core\";\n\nconst BASE_URL = \"http://localhost:8000/\";\n\nfunction Post({post}) {\n    const [imageUrl, setImageUrl] = useState('');\n    const [comments, setComments] = useState([]);\n\n    useEffect(() => {\n        if (post.image_url_type === 'relative'){\n            setImageUrl(BASE_URL + post.image_url)\n        } else {\n            setImageUrl(post.image_url)\n        }\n    }, [])\n\n    useEffect(() => {\n        setComments(post.comments)\n    }, [])\n\n    return (\n        <div className=\"post\">\n            <div className=\"post_header\">\n                <Avatar alt=\"user image\" src=\"\"/>\n                <div className=\"post_headerInfo\">\n                    <h3>{post.user.username}</h3>\n                    <Button className=\"post_delete\">Delete</Button>\n                </div>\n            </div>\n            <img className=\"post_image\" src={imageUrl} alt=\"post_image\"/>\n            <h4 className=\"post_caption\">{post.caption}</h4>\n\n            <div className=\"post_comments\">\n                {\n                    comments.map((comment) => (\n                        <p>\n                            <strong>{comment.username}:</strong> {comment.text}\n                        </p>\n                    ))\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default Post;"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,QAAQ,EAAEC,SAAS,QAAO,OAAO;AAChD,OAAO,YAAY;AACnB,SAASC,MAAM,EAAEC,MAAM,QAAQ,mBAAmB;AAElD,IAAMC,QAAQ,GAAG,wBAAwB;AAEzC,SAASC,IAAI,OAAS;EAAA;EAAA,IAAPC,IAAI,QAAJA,IAAI;EAAA,gBACiBN,QAAQ,CAAC,EAAE,CAAC;IAAA;IAArCO,QAAQ;IAAEC,WAAW;EAAA,iBACIR,QAAQ,CAAC,EAAE,CAAC;IAAA;IAArCS,QAAQ;IAAEC,WAAW;EAE5BT,SAAS,CAAC,YAAM;IACZ,IAAIK,IAAI,CAACK,cAAc,KAAK,UAAU,EAAC;MACnCH,WAAW,CAACJ,QAAQ,GAAGE,IAAI,CAACM,SAAS,CAAC;IAC1C,CAAC,MAAM;MACHJ,WAAW,CAACF,IAAI,CAACM,SAAS,CAAC;IAC/B;EACJ,CAAC,EAAE,EAAE,CAAC;EAENX,SAAS,CAAC,YAAM;IACZS,WAAW,CAACJ,IAAI,CAACG,QAAQ,CAAC;EAC9B,CAAC,EAAE,EAAE,CAAC;EAEN,oBACI;IAAK,SAAS,EAAC,MAAM;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACjB;IAAK,SAAS,EAAC,aAAa;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACxB,oBAAC,MAAM;IAAC,GAAG,EAAC,YAAY;IAAC,GAAG,EAAC,EAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAE,eACjC;IAAK,SAAS,EAAC,iBAAiB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAC5B;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAKH,IAAI,CAACO,IAAI,CAACC,QAAQ,CAAM,eAC7B,oBAAC,MAAM;IAAC,SAAS,EAAC,aAAa;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAC,QAAM,CAAS,CAC7C,CACJ,eACN;IAAK,SAAS,EAAC,YAAY;IAAC,GAAG,EAAEP,QAAS;IAAC,GAAG,EAAC,YAAY;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAE,eAC7D;IAAI,SAAS,EAAC,cAAc;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAED,IAAI,CAACS,OAAO,CAAM,eAEhD;IAAK,SAAS,EAAC,eAAe;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAEtBN,QAAQ,CAACO,GAAG,CAAC,UAACC,OAAO;IAAA,oBACjB;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACI;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAASA,OAAO,CAACH,QAAQ,EAAC,GAAC,CAAS,KAAC,EAACG,OAAO,CAACC,IAAI,CAClD;EAAA,CACP,CAAC,CAEJ,CACJ;AAEd;AAEA,eAAeb,IAAI"},"metadata":{},"sourceType":"module"}